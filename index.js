(()=>{"use strict";var t={426:(t,e,s)=>{s.d(e,{Z:()=>o});var i=s(645),n=s.n(i)()((function(t){return t[1]}));n.push([t.id,'* {\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n}\n\n:root {\n  --font-family: "Trebuchet MS", "Helvetica", sans-serif;\n}\n\nbody {\n  background: black;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  width: 100vw;\n  height: 100vh;\n}\n\n.title {\n  user-select: none;\n  font-size: 30px;\n  font-family: var(--font-family);\n  text-shadow: -2px -1px 3px #00f8ff;\n  color: #000000;\n  letter-spacing: 4px;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n  border-radius: 25px;\n  box-shadow: 0px 3px 10px 3px #b8feff;\n  padding: 15px;\n}\n\n.input-text {\n  width: 700px;\n  height: 200px;\n  padding: 10px;\n  font-size: 18px;\n  line-height: 1.15;\n  font-family: "Trebuchet MS", "Helvetica", sans-serif;\n  outline: none;\n  resize: none;\n  background: black;\n  border: 5px solid #00f8ff;\n  color: #d7ffff;\n  border-radius: 10px;\n  scrollbar-base-color: #b8feff;\n}\n\n.input-text::-webkit-scrollbar {\n  width: 12px;\n  background-color: black;\n}\n\n.input-text::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n  background-color: #00f8ff;\n}\n\n.input-text::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n  border-radius: 10px;\n  background-color: #bcffff;\n}\n\n.description {\n  font-family: "Trebuchet MS", "Helvetica", sans-serif;\n  line-height: 1.15;\n  font-size: 16px;\n  color: white;\n  user-select: none;\n}\n\n.keyboard {\n  width: 704px;\n  display: flex;\n  gap: 8px 6px;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n}\n\n.key {\n  display: flex;\n  justify-content: center;\n  height: 40px;\n  width: 40px;\n  align-items: center;\n  transition: 0.2s;\n  user-select: none;\n  font-family: "Trebuchet MS", "Helvetica", sans-serif;\n  font-size: 16px;\n  cursor: pointer;\n  background: black;\n  border-left: 3px inset black;\n  border-top: 3px inset black;\n  border-bottom: 3px inset #00f8ff;\n  border-right: 3px inset #00f8ff;\n  color: powderblue;\n  box-shadow: 2px 2px 3px -1px white;\n}\n\n.key:hover {\n  color: white;\n  border-radius: 5px;\n  border-left: 1px inset white;\n  border-top: 1px inset white;\n}\n\n.key:active,\n.key.isKeyPressed {\n  background: #002224;\n  color: white;\n  border-radius: 15px;\n  border-left: 1px inset #00f8ff;\n  border-top: 1px inset #00f8ff;\n  border-bottom: 2px inset #00f8ff;\n  border-right: 2px inset #00f8ff;\n  transform: scale(0.97) translateY(2px);\n  box-shadow: none;\n}\n\n.keyIndicator {\n  width: 5px;\n  height: 10px;\n  background: #464646;\n  margin-left: 8px;\n  border-radius: 3px;\n  transition: 0.3s;\n}\n\n.keyIndicator.isActive {\n  background: white;\n  box-shadow: 0 0 5px 2px #fff;\n}',""]);const o=n},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=t(e);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<t.length;a++){var h=[].concat(t[a]);i&&n[h[0]]||(s&&(h[2]?h[2]="".concat(s," and ").concat(h[2]):h[2]=s),e.push(h))}},e}},379:(t,e,s)=>{var i,n=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),o=[];function r(t){for(var e=-1,s=0;s<o.length;s++)if(o[s].identifier===t){e=s;break}return e}function a(t,e){for(var s={},i=[],n=0;n<t.length;n++){var a=t[n],h=e.base?a[0]+e.base:a[0],d=s[h]||0,c="".concat(h," ").concat(d);s[h]=d+1;var l=r(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(u)):o.push({identifier:c,updater:f(u,e),references:1}),i.push(c)}return i}function h(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=s.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,c=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function l(t,e,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var o=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function u(t,e,s){var i=s.css,n=s.media,o=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var y=null,p=0;function f(t,e){var s,i,n;if(e.singleton){var o=p++;s=y||(y=h(e)),i=l.bind(null,s,o,!1),n=l.bind(null,s,o,!0)}else s=h(e),i=u.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var s=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var n=r(s[i]);o[n].references--}for(var h=a(t,e),d=0;d<s.length;d++){var c=r(s[d]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}s=h}}}}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,s),o.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.nc=void 0,(()=>{const t="language-virtual-keyboard-2023q1-7OFej",e="ru",i="en",n=[i,e],o="default",r="shift",a="caps",h="shiftCaps",d="isKeyPressed";function c(t,e=void 0,s=void 0,i=!1){const n=document.createElement("div");if(n.className="key",n.id=t,void 0!==e&&(n.style.width=`${e}px`),void 0!==s&&(n.innerHTML=s),i){const e=document.createElement("div");e.className="keyIndicator",e.id=`${t}Indicator`,n.appendChild(e)}return n}class l{constructor(t){this.root=t,this.inputElement=function(){const t=document.createElement("textarea");return t.setAttribute("autofocus",""),t.spellcheck=!1,t.id="text",t.className="input-text",t}(),this.inputElement.addEventListener("blur",this.inputElement.focus),this.inputElement.addEventListener("click",(t=>{this.root.startCursorPosition=t.currentTarget.selectionStart,this.root.ensCursorPosition=t.currentTarget.selectionEnd})),this.inputElement.addEventListener("select",(t=>{this.root.startCursorPosition=t.currentTarget.selectionStart,this.root.ensCursorPosition=t.currentTarget.selectionEnd}))}getElement(){return this.inputElement}setInputValue(t){this.inputElement.value=t}setCursorPosition(t,e=t){this.inputElement.setSelectionRange(t,e)}getCursorPosition(){return this.inputElement.selectionStart}}class u{isCharacterKey=!0;constructor(t,s,n,l,u,y,p=void 0){this.root=t,this.keyCode=s,this.keyData={[e]:{[o]:u,[r]:y,[a]:u.toUpperCase(),[h]:y.toLowerCase()},[i]:{[o]:n,[r]:l,[a]:n.toUpperCase(),[h]:l.toLowerCase()}},this.key=c(this.keyCode,p),this.key.addEventListener("mousedown",(()=>{this.root.changeInputState(this.root.addInputValueSymbol,this.getKeyValue())})),window.addEventListener("keydown",(t=>{t.code===this.keyCode&&(this.root.changeInputState(this.root.addInputValueSymbol,this.getKeyValue()),this.key.classList.add(d))})),window.addEventListener("keyup",(t=>{t.code===this.keyCode&&this.key.classList.remove(d)}))}getElement(){return this.key}setKeyValue(){this.key.innerHTML=this.getKeyValue()}getKeyValue(){return this.keyData[this.root.language][this.root.keysType]}}class y{constructor(t,e,s,i=[],n=void 0){this.root=t,this.keyCode=e,this.keyName=s,this.keyActions=i,this.key=c(this.keyCode,n,this.keyName),this.key.addEventListener("mousedown",(()=>{this.keyActions.forEach((t=>t()))})),window.addEventListener("keydown",(t=>{t.code===this.keyCode&&(this.keyActions.forEach((t=>t())),this.key.classList.add(d))})),window.addEventListener("keyup",(t=>{t.code===this.keyCode&&this.key.classList.remove(d)}))}getElement(){return this.key}}class p{constructor(t,e,s,i,n=!1,o=void 0){this.root=t,this.keyCode=e,this.keyName=s,this.setState=i,this.isIndicatorKey=n,this.isKeyClicked=!1,this.isKeyPressed=!1,this.key=c(this.keyCode,o,this.keyName,n),this.key.addEventListener("mousedown",(()=>{this.isKeyClicked=!0,this.isKeyPressed||(this.root.changeKeysTypeState(this.setState,!0),n&&this.toggleIndicator())})),window.addEventListener("mouseup",(()=>{!this.isKeyClicked||this.isIndicatorKey||this.isKeyPressed||this.root.changeKeysTypeState(this.setState,!1),this.isKeyClicked=!1})),window.addEventListener("keydown",(t=>{t.code!==this.keyCode||t.repeat||(this.isKeyPressed=!0,this.isKeyClicked||(this.root.changeKeysTypeState(this.setState,!0),n&&this.toggleIndicator()),this.key.classList.add(d))})),window.addEventListener("keyup",(t=>{t.code===this.keyCode&&(this.isKeyPressed=!1,this.isIndicatorKey||this.isKeyClicked||this.root.changeKeysTypeState(this.setState,!1),this.key.classList.remove(d))}))}getElement(){return this.key}toggleIndicator(){this.getElement().querySelector(`#${this.keyCode}Indicator`).classList.toggle("isActive")}resetClickedState(){this.isKeyClicked=!1,this.isKeyPressed=!1}}class f{constructor(t,e,s,i,n=void 0){this.root=t,this.keyCode=e,this.keyName=s,this.keyData=i,this.key=c(this.keyCode,n,this.keyName),this.key.addEventListener("mousedown",(()=>{this.root.changeInputState(this.root.addInputValueSymbol,this.keyData)})),window.addEventListener("keydown",(t=>{t.code===this.keyCode&&(this.root.changeInputState(this.root.addInputValueSymbol,this.keyData),this.key.classList.add(d))})),window.addEventListener("keyup",(t=>{t.code===this.keyCode&&this.key.classList.remove(d)}))}getElement(){return this.key}}class w{constructor(t){this.root=t,this.keyboardContainer=function(){const t=document.createElement("div");return t.className="keyboard",t.id="keyboard",t}(),this.keysData=[new u(this.root,"Backquote","`","~","ё","Ё"),new u(this.root,"Digit1","1","!","1","!"),new u(this.root,"Digit2","2","@","2",'"'),new u(this.root,"Digit3","3","#","3","№"),new u(this.root,"Digit4","4","$","4",";"),new u(this.root,"Digit5","5","%","5","%"),new u(this.root,"Digit6","6","^","6",":"),new u(this.root,"Digit7","7","&","7","?"),new u(this.root,"Digit8","8","*","8","*"),new u(this.root,"Digit9","9","(","9","("),new u(this.root,"Digit0","0",")","0",")"),new u(this.root,"Minus","-","_","-","_"),new u(this.root,"Equal","=","+","=","+"),new y(this.root,"Backspace","Backspace",[this.root.changeInputState.bind(this.root,this.root.delPrevSymbol)],100),new f(this.root,"Tab","Tab","\t",50),new u(this.root,"KeyQ","q","Q","й","Й"),new u(this.root,"KeyW","w","W","ц","Ц"),new u(this.root,"KeyE","e","E","у","У"),new u(this.root,"KeyR","r","R","к","К"),new u(this.root,"KeyT","t","T","е","Е"),new u(this.root,"KeyY","y","Y","н","Н"),new u(this.root,"KeyU","u","U","г","Г"),new u(this.root,"KeyI","i","I","ш","Ш"),new u(this.root,"KeyO","o","O","щ","Щ"),new u(this.root,"KeyP","p","P","з","З"),new u(this.root,"BracketLeft","[","{","х","Х"),new u(this.root,"BracketRight","]","}","ъ","Ъ"),new u(this.root,"Backslash","\\","|","\\","/"),new y(this.root,"Delete","Del",[this.root.changeInputState.bind(this.root,this.root.delNextSymbol)],44),new p(this.root,"CapsLock","Caps Lock",this.root.switchIsCapsPressed,!0,100),new u(this.root,"KeyA","a","A","ф","Ф"),new u(this.root,"KeyS","s","S","ы","Ы"),new u(this.root,"KeyD","d","D","в","В"),new u(this.root,"KeyF","f","F","а","А"),new u(this.root,"KeyG","g","G","п","П"),new u(this.root,"KeyH","h","H","р","Р"),new u(this.root,"KeyJ","j","J","о","О"),new u(this.root,"KeyK","k","K","л","Л"),new u(this.root,"KeyL","l","L","д","Д"),new u(this.root,"Semicolon",";",":","ж","Ж"),new u(this.root,"Quote","'",'"',"э","Э"),new f(this.root,"Enter","Enter","\n",86),new p(this.root,"ShiftLeft","Shift",this.root.setIsLeftShiftPressed,!1,100),new u(this.root,"KeyZ","z","Z","я","Я"),new u(this.root,"KeyX","x","X","ч","Ч"),new u(this.root,"KeyC","c","C","с","С"),new u(this.root,"KeyV","v","V","м","М"),new u(this.root,"KeyB","b","B","и","И"),new u(this.root,"KeyN","n","N","т","Т"),new u(this.root,"KeyM","m","M","ь","Ь"),new u(this.root,"Comma",",","<","б","Б"),new u(this.root,"Period",".",">","ю","Ю"),new u(this.root,"Slash","/","?",".",","),new f(this.root,"ArrowUp","▲","▲"),new p(this.root,"ShiftRight","Shift",this.root.setIsRightShiftPressed,!1,86),new y(this.root,"ControlLeft","Ctrl"),new y(this.root,"MetaLeft","Win"),new p(this.root,"AltLeft","Alt",this.root.setIsAltPressed),new f(this.root,"Space",""," ",330),new y(this.root,"AltRight","Alt"),new f(this.root,"ArrowLeft","◄","◄"),new f(this.root,"ArrowDown","▼","▼"),new f(this.root,"ArrowRight","►","►"),new y(this.root,"ControlRight","Ctrl")],this.keysData.forEach((t=>this.keyboardContainer.appendChild(t.getElement()))),this.setKeysValue()}setKeysValue(){this.keysData.forEach((t=>t.setKeyValue?.()))}}var g=s(379),k=s.n(g),b=s(426);k()(b.Z,{insert:"head",singleton:!1}),b.Z.locals,(new class{body=document.body;constructor(){this.language=function(){const e=localStorage.getItem(t);return n.includes(e)?e:(localStorage.setItem(t,i),i)}(),this.isLanguageSwitched=!1,this.isLeftShiftPressed=!1,this.isRightShiftPressed=!1,this.isCapsPressed=!1,this.isAltPressed=!1,this.keysType=o,this.inputValue="",this.startCursorPosition=0,this.ensCursorPosition=0,this.keyboard=new w(this),this.inputField=new l(this)}addInputValueSymbol=t=>{const{inputValue:e,startCursorPosition:s,ensCursorPosition:i}=this;this.inputValue=e.slice(0,s)+t+e.slice(i),this.startCursorPosition+=1,this.ensCursorPosition=this.startCursorPosition};delPrevSymbol=()=>{const{inputValue:t,startCursorPosition:e,ensCursorPosition:s}=this;0===e&&0===s||(this.inputValue=t.slice(0,e===s?e-1:e)+t.slice(s),this.startCursorPosition=e===s?e-1:e,this.ensCursorPosition=this.startCursorPosition)};delNextSymbol=()=>{const{inputValue:t,startCursorPosition:e,ensCursorPosition:s}=this;e===t.length&&s===t.length||(this.inputValue=t.slice(0,e)+t.slice(e===s?s+1:s),this.ensCursorPosition=this.startCursorPosition)};setKeysType(){const t=this.isLeftShiftPressed||this.isRightShiftPressed,e=this.isCapsPressed;t||e||(this.keysType=o),t&&!e&&(this.keysType=r),!t&&e&&(this.keysType=a),t&&e&&(this.keysType=h)}setIsLeftShiftPressed=t=>{this.isLeftShiftPressed=t,t||this.isRightShiftPressed||(this.isLanguageSwitched=!1)};setIsRightShiftPressed=t=>{this.isRightShiftPressed=t,t||this.isLeftShiftPressed||(this.isLanguageSwitched=!1)};setIsAltPressed=t=>{this.isAltPressed=t,t||(this.isLanguageSwitched=!1)};switchIsCapsPressed=()=>{this.isCapsPressed=!this.isCapsPressed};resetPressedStates=()=>{this.isLeftShiftPressed=!1,this.isRightShiftPressed=!1,this.isAltPressed=!1};changeInputState(t,...e){t(...e),this.inputField.setInputValue(this.inputValue),this.inputField.setCursorPosition(this.startCursorPosition,this.ensCursorPosition)}switchLanguage(){var s;this.isLanguageSwitched||(this.isLeftShiftPressed||this.isRightShiftPressed)&&this.isAltPressed&&(this.language=this.language===e?i:e,s=this.language,localStorage.setItem(t,s),this.isLanguageSwitched=!0)}changeKeysTypeState(t,...e){t(...e);const{language:s,keysType:i}=this;this.setKeysType(),this.switchLanguage();const{language:n,keysType:o}=this;i===o&&s===n||this.keyboard.setKeysValue()}start(){this.body.insertAdjacentHTML("afterbegin",'\n    <div class="container">\n      <p class="title">RSS Virtual Keyboard</p>\n      <div class="main">\n      </div>\n      <p class="description">Keyboard created in Windows</p>\n      <p class="description">Switch language: left alt + shift</p>\n    </div>\n  '),this.body.querySelector(".main").appendChild(this.inputField.getElement()),this.body.querySelector(".main").appendChild(this.keyboard.keyboardContainer),window.addEventListener("keydown",(t=>{t.preventDefault()})),window.addEventListener("keyup",(t=>{t.preventDefault()})),window.addEventListener("blur",(()=>{this.keyboard.keysData.forEach((t=>{t.getElement().classList.remove(d),t.resetClickedState?.()})),this.changeKeysTypeState(this.resetPressedStates)}))}}).start()})()})();